# Whisper Input Configuration

hotkey:
  # Primary hotkey: Win+Alt
  combo:
    - KEY_LEFTMETA
    - KEY_LEFTALT
  # Alternate hotkeys
  alt_combos:
    - [KEY_LEFTCTRL, KEY_LEFTALT]   # Ctrl+Alt
    - [KEY_RIGHTCTRL, KEY_RIGHTALT] # Right Ctrl+Right Alt
    - [KEY_PAGEDOWN, KEY_RIGHT]     # Page Down + Right Arrow
    - [KEY_PAGEDOWN, KEY_DOWN]      # Page Down + Down Arrow

audio:
  sample_rate: 16000      # Whisper expects 16kHz
  device_index: null      # null = system default microphone

recording:
  max_duration: 120       # Maximum recording length in seconds

whisper:
  model: "distil-whisper/distil-large-v3"
  device: "cuda"          # cuda, cpu, or mps (Mac)

ollama:
  enabled: true
  model: "qwen2.5:1.5b"
  host: "http://127.0.0.1:11434"
  skip_threshold: 5              # Skip Ollama for utterances â‰¤ N words (0 = disabled)

typer:
  backend: "xdotool"      # xdotool for X11 (respects keyboard layout)

feedback:
  notifications: true
  sounds: false

# Wake-word activation (say "Alexa" to start recording)
wakeword:
  enabled: true            # Wake-word is enabled
  model: "alexa"           # Options: hey_jarvis, alexa, hey_mycroft
  threshold: 0.5           # Detection sensitivity (0.1-0.9)

# Silence detection for auto-stop (used with wake-word)
silence:
  threshold: 0.01          # RMS energy threshold
  duration: 1.5            # Seconds of silence to stop
  min_speech_duration: 0.5 # Minimum recording before checking
  max_recording_duration: 120.0  # Maximum recording length (matches recording.max_duration)

# Code Speaker TTS (Kokoro) for Claude Code events
tts:
  enabled: true            # Native Rust Kokoro TTS
  voice: "am_michael"      # Kokoro voice (af_heart, bf_emma, am_adam, etc.)
  speed: 1.0               # Speech speed multiplier
  api_port: 8767           # HTTP API port for hook integration
  max_direct_chars: 150    # Text longer than this gets summarized by Ollama
  reminder_interval: 300   # Seconds between reminder repeats (5 min)
  model_path: ""           # Path to kokoro-v1.0.onnx (empty = auto-detect)
